---
description: >-
  Система коллизий в Unreal Engine (UE) определяет, как объекты взаимодействуют
  друг с другом в игровом пространстве. Это одна из ключевых подсистем, которая
  используется взаимодействия объектов.
---

# Общая справка по коллизиям

**Помимо прочтения текста ниже, рекоммендуется ознакомиться со статьей** [**по ссылке**](https://www.unrealengine.com/en-US/blog/collision-filtering)

## **Типы взаимодействий**

* **Block** (Блокировать): объект полностью препятствует движению другого.
* **Overlap** (Перекрытие): объекты пересекаются, но не останавливают движение.
* **Ignore** (Игнорировать): объекты не взаимодействуют.

***

## **Компоненты системы коллизий**

### **Формы коллизии**

Коллизия определяется с помощью **форм коллизии (Collision Shapes)**, таких как:

* **Capsule**: используется для персонажей.
* **Box**: простая форма для статических объектов.
* **Sphere**: идеально для сферических объектов.
* **Complex Collision**: точное совпадение с геометрией объекта (дороже по производительности).

## **Каналы коллизии**

**Каналы коллизии (Collision Channels)** определяют тип объектов и их взаимодействие:

* Стандартные каналы:
  * `ECC_WorldStatic`: статические объекты (например, стены).
  * `ECC_WorldDynamic`: динамические объекты (например, движущиеся двери).
  * `ECC_Pawn`: персонажи.
  * `ECC_PhysicsBody`: физические объекты.
  * `ECC_Visibility`: трассировки для видимости.
* Пользовательские каналы:
  * Настраиваются в **Project Settings → Collision → Object Channels**.

***

### **3. Настройка коллизий**

####

#### **Типы коллизий**

* **Simple Collision**: примитивные формы (Box, Sphere, Capsule).
* **Complex Collision**: геометрически точная коллизия, которая используется реже из-за высокой стоимости.

***

***

## **Рекомендации по работе с коллизиями**

1. **Используйте простые формы коллизии, где это возможно.**
   * Это улучшит производительность.
   * Например, вместо точной геометрии здания используйте `Box` для стен.
2. **Настраивайте пользовательские каналы.**
   * Если стандартные каналы не подходят, создайте свои:
     * Перейдите в **Project Settings → Collision → Object Channels**.
     * Добавьте новый канал, например, `CustomWeaponChannel`.
3. **Оптимизируйте сложные коллизии.**
   * Для сложных объектов используйте простую коллизию для большинства случаев и сложную только для детальных взаимодействий (например, пули).
4. **Трассировка против коллизии.**
   * Используйте трассировку (`Trace`) для проверки наличия объектов на пути.
   * Используйте коллизии для физического взаимодействия (например, столкновения).
5. **Тестируйте настройки в редакторе.**
   * Включите отображение коллизий: **Show → Collision**.
   *   Используйте команды консоли:

       ```
       ShowCollision
       ```

***

## **Инструменты для отладки**

* **Отображение коллизий в редакторе**:
  * Включить визуализацию: **Show → Collision (Alt + C)**.
  * Показывает простые и сложные формы коллизии.
* **Команды консоли**:
  * `pxvis collision`: отображает физические формы коллизий.
  * `showdebug collision`: показывает текущие настройки и взаимодействия.

***

### **7. Часто задаваемые вопросы (FAQ)**

**Q: Почему объект не реагирует на столкновения?**\
A: Убедитесь, что:

* У объекта есть настроенная форма коллизии.
* Каналы коллизии настроены правильно.

**Q: Когда использовать `Complex Collision`?**\
A: Только для объектов, требующих высокой детализации взаимодействий (например, нож, бьющий по сложной модели).

**Q: Как проверить настройки коллизии?**\
A: Используйте режим визуализации коллизий в редакторе и консольные команды для диагностики.
